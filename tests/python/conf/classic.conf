log Debug log/units_python_test.log;

server {
	listen localhost:8080;
	root www/;
	index html/sign_in.html;
	autoindex on;
	cgi php /usr/bin/php-cgi;

	location /delete/ {
		root tests/python/components/;
		index delete_me.html;
	}

	location /autoindex-off/ {
		root www/;
		autoindex off;
	}

	location /autoindex-on/ {
		root www/;
		autoindex on;
	}

	location /no_permission/ {
		root tests/python/components/;
		index no_perm.html;
		autoindex off;
	}

	location /cgi-broken/ {
		root tests/python/components/;
		index script_broken.php;
	}

	location /redirect-301/ {
		return 301 "http://www.google.com";
	}

	location /redirect-302/ {
		return 302 "http://www.google.com";
	}

	location /deny-delete/ {
		root tests/python/components/;
		index delete.html;
		deny_method [DELETE];
	}

	location /deny-get/ {
		root tests/python/components/;
		index get.html;
		deny_method [GET];
	}

	location /deny-post/ {
		root tests/python/components/;
		index post.html;
		deny_method [POST];
	}

	location /cgi-wrong/ {
		root tests/python/components/;
		index index.py;
	}

	location /cgi-good/ {
		root tests/python/components/;
		index script.php;
		cgi php /usr/bin/php-cgi;
	}
}